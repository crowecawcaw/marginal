/* Grid stacking: overlay and input occupy the same cell, scroll together */
.markdown-code-view {
  display: grid;
  grid-template: 1fr / 1fr;
  overflow-y: auto;
}

.markdown-syntax-highlight-overlay {
  grid-row: 1;
  grid-column: 1;
  pointer-events: none;
  /* CRITICAL: Must match editable input padding in MarkdownEditor.css for proper alignment */
  padding: var(--size-editor-padding);
  margin: 0;
  font-family:
    "SF Mono", "Monaco", "Menlo", "Consolas", "Courier New", monospace;
  font-size: calc(14px * var(--editor-zoom, 100) / 100);
  line-height: 1.6;
  white-space: pre-wrap;
  word-wrap: break-word;
  /* Default text color */
  color: var(--color-text-primary, #ffffff);
}

/* Make the contentEditable sit on top with transparent text */
.markdown-code-view .markdown-editor-input {
  grid-row: 1;
  grid-column: 1;
  z-index: 1;
  color: transparent;
  caret-color: var(--color-text-primary, #ffffff);
  -webkit-text-fill-color: transparent; /* For WebKit browsers */
}

/* Headings - blue */
.markdown-syntax-highlight-overlay .token.title {
  color: #4a9eff;
}

.markdown-syntax-highlight-overlay .token.title.important {
  color: #4a9eff;
}

/* Bold and italic - keep original text color */
.markdown-syntax-highlight-overlay .token.bold {
  font-weight: bold;
  color: inherit;
}

.markdown-syntax-highlight-overlay .token.italic {
  font-style: italic;
  color: inherit;
}

/* Link text - pink */
.markdown-syntax-highlight-overlay .token.url .token.content,
.markdown-syntax-highlight-overlay .token.url-reference .token.content {
  color: #ff6b9d;
}

/* Link/image href - blue */
.markdown-syntax-highlight-overlay .token.url,
.markdown-syntax-highlight-overlay .token.url-reference {
  color: #4a9eff;
}

/* Code - orange */
.markdown-syntax-highlight-overlay .token.code,
.markdown-syntax-highlight-overlay .token.code-snippet {
  color: #ff9f43;
}

/* List punctuation - subtle */
.markdown-syntax-highlight-overlay .token.list.punctuation {
  color: #888;
}

/* HR - subtle */
.markdown-syntax-highlight-overlay .token.hr.punctuation {
  color: #666;
}

/* Blockquote - subtle */
.markdown-syntax-highlight-overlay .token.blockquote.punctuation {
  color: #888;
}

/* Table - subtle */
.markdown-syntax-highlight-overlay .token.table {
  color: #888;
}
